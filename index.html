<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- <meta http-equiv="X-UA-Compatible" content="ie=edge"> -->
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>  
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://unpkg.com/color.js@1.2.0/dist/color.js"></script>
    <script src="js/img.js"></script>
    <title>Quiproquand</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    
    <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="./img/favicon.png">
  </head>
  <body>
    <!-- <div class="container"> -->
      <div class="row">
        <div class="col-md-2" id="lat-bar">
          <div class="glowy">//</div>
          <div class="glowy">PROCHAIN QUIPROQUI :</div>
            <div class="glowy" id="next-meet-up"></div>
          <div class="glowy">//</div>
          <!-- <div class="glowy" id="archive">ARCHIVE</div><br> -->
          <!-- <div id="Datepicker"></div> -->
        </div>
      </div>
      <div class="row">
        <div class="col-md-2"></div>
        <div class="col-md-10 content-holder">
          <h1>Quiproquand</h1>
          <span id="selected-date"><button class="act" id="prev-button"type="button" onclick="prevDate()"><-</button><h2 id="ajd"></h2><button class="deact" id="next-button" type="button" onclick="nextDate()" disabled>-></button></span>
          <div id="content" hidden>
              ...chargement...

          </div>
        </div>
      </div>
      <div id="canvas-holder"></div>
    <!-- </div> -->
  </body>
  <script src="meetups.js"></script>
  <script src="js/index.js"></script>
  <script type="text/javascript">

    const tdaytmp = new Date();

    // DEBUG
    // const firstDay = new Date(2024,11,15);

    const firstDay = new Date(2024,11,2);

    
    $("#content").load(getDateAsFilename());
    console.log(getDateAsFilename());

    document.getElementById("ajd").innerHTML =getFrenchDateAsString();
    document.getElementById("next-meet-up").innerHTML = getDaysBeforeNextMeetups();

   

    window.onresize = function() {
      const newWidth = (window.innerWidth > 0) ? window.innerWidth : screen.width;

      if ((newWidth<thresholds[1] && width >= thresholds[1]) || (newWidth>=thresholds[1] && width < thresholds[1]) || (newWidth>=thresholds[0] && width < thresholds[0]) || (newWidth<thresholds[0] && width >= thresholds[0])){
        $("#content").load(getDateAsFilename());
      } else {
        reloadImager();
      }

      width = newWidth;
    };


    const TODAY = new Date(tdaytmp.getFullYear(),tdaytmp.getMonth(),tdaytmp.getDate());
    var tday = new Date(tdaytmp.getFullYear(),tdaytmp.getMonth(),tdaytmp.getDate());
    
    if (tday - firstDay <=0) {
      deactivate(document.getElementById("prev-button"));
    }


    // $(function() {
    //     $("#Datepicker").datepicker({
    //      numberOfMonths: 1
    //     }); 
    //   });


    
  </script>

</html>
